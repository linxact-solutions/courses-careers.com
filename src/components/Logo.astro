---
export interface Props {
  variant?: 'full' | 'icon';
  size?: 'sm' | 'md' | 'lg' | 'xl';
  className?: string;
  animated?: boolean;
}

const { 
  variant = 'full', 
  size = 'md', 
  className = '',
  animated = true 
} = Astro.props;

const sizeClasses = {
  sm: variant === 'full' ? 'h-8' : 'h-8 w-8',
  md: variant === 'full' ? 'h-10' : 'h-10 w-10',
  lg: variant === 'full' ? 'h-12' : 'h-12 w-12',
  xl: variant === 'full' ? 'h-16' : 'h-16 w-16'
};

const animationClass = animated ? 'logo-animated' : '';
---

<div class={`logo-wrapper ${animationClass} ${className}`}>
  {variant === 'full' ? (
    <svg 
      xmlns="http://www.w3.org/2000/svg" 
      viewBox="0 0 240 60" 
      class={`logo-full ${sizeClasses[size]}`}
      role="img"
      aria-label="Courses & Careers Logo"
    >
      <defs>
        <!-- Light theme gradients -->
        <linearGradient id="bookGradientLight" x1="0%" y1="0%" x2="100%" y2="100%">
          <stop offset="0%" style="stop-color:#3B82F6;stop-opacity:1" />
          <stop offset="100%" style="stop-color:#2563EB;stop-opacity:1" />
        </linearGradient>
        
        <linearGradient id="arrowGradientLight" x1="0%" y1="0%" x2="100%" y2="0%">
          <stop offset="0%" style="stop-color:#10B981;stop-opacity:1" />
          <stop offset="100%" style="stop-color:#059669;stop-opacity:1" />
        </linearGradient>
        
        <!-- Dark theme gradients -->
        <linearGradient id="bookGradientDark" x1="0%" y1="0%" x2="100%" y2="100%">
          <stop offset="0%" style="stop-color:#60A5FA;stop-opacity:1" />
          <stop offset="100%" style="stop-color:#3B82F6;stop-opacity:1" />
        </linearGradient>
        
        <linearGradient id="arrowGradientDark" x1="0%" y1="0%" x2="100%" y2="0%">
          <stop offset="0%" style="stop-color:#34D399;stop-opacity:1" />
          <stop offset="100%" style="stop-color:#10B981;stop-opacity:1" />
        </linearGradient>
      </defs>
      
      <!-- Icon Group -->
      <g class="logo-icon-group">
        <!-- Book (representing courses) -->
        <path d="M10 15 L10 40 L25 45 L25 20 Z" class="book-left" opacity="0.9"/>
        <path d="M25 20 L25 45 L40 40 L40 15 Z" class="book-right" opacity="0.7"/>
        <path d="M10 15 L25 20 L40 15" fill="none" class="book-spine" stroke-width="2" stroke-linecap="round"/>
        
        <!-- Career arrow pointing up -->
        <path d="M32 35 L32 25 L28 29" fill="none" class="arrow-path" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/>
        <path d="M32 25 L36 29" fill="none" class="arrow-path" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/>
        
        <!-- Small stars representing achievement -->
        <circle cx="20" cy="10" r="1.5" class="star star-1" fill="#FCD34D"/>
        <circle cx="30" cy="8" r="1.5" class="star star-2" fill="#FCD34D"/>
        <circle cx="25" cy="12" r="1.5" class="star star-3" fill="#FCD34D"/>
      </g>
      
      <!-- Text Group -->
      <g class="logo-text-group" fill="currentColor">
        <!-- "Courses" text -->
        <text x="55" y="28" font-family="Inter, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif" font-size="20" font-weight="600">
          Courses
        </text>
        
        <!-- "&" symbol -->
        <text x="130" y="28" font-family="Inter, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif" font-size="18" font-weight="400" fill="currentColor" opacity="0.7">
          &amp;
        </text>
        
        <!-- "Careers" text -->
        <text x="150" y="28" font-family="Inter, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif" font-size="20" font-weight="600">
          Careers
        </text>
        
        <!-- Tagline -->
        <text x="55" y="45" font-family="Inter, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif" font-size="12" font-weight="400" fill="currentColor" opacity="0.6">
          Your Path to Success
        </text>
      </g>
    </svg>
  ) : (
    <svg 
      xmlns="http://www.w3.org/2000/svg" 
      viewBox="0 0 64 64" 
      class={`logo-icon ${sizeClasses[size]}`}
      role="img"
      aria-label="Courses & Careers Icon"
    >
      <defs>
        <!-- Light theme gradients -->
        <linearGradient id="bookGradientIconLight" x1="0%" y1="0%" x2="100%" y2="100%">
          <stop offset="0%" style="stop-color:#3B82F6;stop-opacity:1" />
          <stop offset="100%" style="stop-color:#2563EB;stop-opacity:1" />
        </linearGradient>
        
        <linearGradient id="arrowGradientIconLight" x1="0%" y1="0%" x2="100%" y2="0%">
          <stop offset="0%" style="stop-color:#10B981;stop-opacity:1" />
          <stop offset="100%" style="stop-color:#059669;stop-opacity:1" />
        </linearGradient>
        
        <!-- Dark theme gradients -->
        <linearGradient id="bookGradientIconDark" x1="0%" y1="0%" x2="100%" y2="100%">
          <stop offset="0%" style="stop-color:#60A5FA;stop-opacity:1" />
          <stop offset="100%" style="stop-color:#3B82F6;stop-opacity:1" />
        </linearGradient>
        
        <linearGradient id="arrowGradientIconDark" x1="0%" y1="0%" x2="100%" y2="0%">
          <stop offset="0%" style="stop-color:#34D399;stop-opacity:1" />
          <stop offset="100%" style="stop-color:#10B981;stop-opacity:1" />
        </linearGradient>
      </defs>
      
      <!-- Background circle -->
      <circle cx="32" cy="32" r="30" class="icon-bg"/>
      
      <!-- Book (representing courses) -->
      <path d="M16 20 L16 44 L32 48 L32 24 Z" class="book-left" opacity="0.9"/>
      <path d="M32 24 L32 48 L48 44 L48 20 Z" class="book-right" opacity="0.7"/>
      <path d="M16 20 L32 24 L48 20" fill="none" class="book-spine" stroke-width="2.5" stroke-linecap="round"/>
      
      <!-- Career arrow pointing up -->
      <path d="M40 38 L40 28 L36 32" fill="none" class="arrow-path" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
      <path d="M40 28 L44 32" fill="none" class="arrow-path" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
      
      <!-- Small stars representing achievement -->
      <circle cx="26" cy="14" r="2" class="star star-1" fill="#FCD34D"/>
      <circle cx="38" cy="12" r="2" class="star star-2" fill="#FCD34D"/>
      <circle cx="32" cy="16" r="2" class="star star-3" fill="#FCD34D"/>
    </svg>
  )}
</div>

<style>
  /* Base styles */
  .logo-wrapper {
    display: inline-flex;
    align-items: center;
  }

  .logo-full,
  .logo-icon {
    width: auto;
    display: block;
  }

  /* Light theme (default) */
  .book-left {
    fill: url(#bookGradientLight);
  }

  .book-right {
    fill: url(#bookGradientLight);
  }

  .book-spine {
    stroke: #3B82F6;
  }

  .arrow-path {
    stroke: url(#arrowGradientLight);
  }

  .icon-bg {
    fill: #F3F4F6;
  }

  /* Dark theme */
  :global(.dark) .book-left {
    fill: url(#bookGradientDark);
  }

  :global(.dark) .book-right {
    fill: url(#bookGradientDark);
  }

  :global(.dark) .book-spine {
    stroke: #60A5FA;
  }

  :global(.dark) .arrow-path {
    stroke: url(#arrowGradientDark);
  }

  :global(.dark) .icon-bg {
    fill: #1F2937;
  }

  /* Icon-specific styles */
  .logo-icon .book-left {
    fill: url(#bookGradientIconLight);
  }

  .logo-icon .book-right {
    fill: url(#bookGradientIconLight);
  }

  .logo-icon .arrow-path {
    stroke: url(#arrowGradientIconLight);
  }

  :global(.dark) .logo-icon .book-left {
    fill: url(#bookGradientIconDark);
  }

  :global(.dark) .logo-icon .book-right {
    fill: url(#bookGradientIconDark);
  }

  :global(.dark) .logo-icon .arrow-path {
    stroke: url(#arrowGradientIconDark);
  }

  /* Animations */
  .logo-animated {
    transition: transform 0.3s ease;
  }

  .logo-animated:hover {
    transform: scale(1.05);
  }

  .logo-animated:hover .star {
    animation: twinkle 1.5s ease-in-out infinite;
  }

  .logo-animated:hover .star-1 {
    animation-delay: 0s;
  }

  .logo-animated:hover .star-2 {
    animation-delay: 0.5s;
  }

  .logo-animated:hover .star-3 {
    animation-delay: 1s;
  }

  .logo-animated:hover .arrow-path {
    animation: arrow-pulse 1.5s ease-in-out infinite;
  }

  @keyframes twinkle {
    0%, 100% {
      opacity: 1;
      transform: scale(1);
    }
    50% {
      opacity: 0.5;
      transform: scale(1.2);
    }
  }

  @keyframes arrow-pulse {
    0%, 100% {
      stroke-width: 2.5;
    }
    50% {
      stroke-width: 3.5;
    }
  }

  /* For icon variant */
  .logo-icon .logo-animated:hover .arrow-path {
    animation: arrow-pulse-icon 1.5s ease-in-out infinite;
  }

  @keyframes arrow-pulse-icon {
    0%, 100% {
      stroke-width: 3;
    }
    50% {
      stroke-width: 4;
    }
  }

  /* Focus styles for accessibility */
  .logo-wrapper:focus-within {
    outline: 2px solid #3B82F6;
    outline-offset: 4px;
    border-radius: 4px;
  }

  :global(.dark) .logo-wrapper:focus-within {
    outline-color: #60A5FA;
  }
</style>